// Preguntas

var cuestionario = {
    0: {
        question: "What is the supreme law of the land?",
        answer: {
            0: "the constitution"
        },
    },
    1: {
        question: "What does the Constitution do?",
        answer: {
            0: "sets up the government",
            1: "defines the government",
            2: "protects basic rights of americans"
        },
    },
    2: {
        question: "The idea of self-government is in the first three words of the Constitution. What are these words?",
        answer: {
            0: "we the people"
        },
    },
    3: {
        question: "What is an amendment? (Do not type (to the Constitution))",
        answer: {
            0: "a change",
            1: "an addition"
        },
    },
    4: {
        question: "What do we call the first ten amendments to the Constitution?",
        answer: {
            0: "the bill of rights"
        },
    },
    5: {
        question: "What is one right or freedom from the First Amendment?",
        answer: {
            0: "speech",
            1: "religion",
            2: "assembly",
            3: "press",
            4: "petition the government"
        },
    },
    6: {
        question: "How many amendments does the Constitution have? (Number)",
        answer: {
            0: "27"
        },
    },
    7: {
        question: "What did the Declaration of Independence do? (Do not type ((from great britain))",
        answer: {
            0: "announced our independence",
            1: "declared our independence",
            2: "said that the united states is free"
        },
    },
    8: {
        question: "What are two rights in the Declaration of Independence?",
        answer: {
            0: "life",
            1: "liberty",
            2: "pursuit of happiness"
        },
    },
    9: {
        question: "What is freedom of religion?",
        answer: {
            0: "you can practice any religion, or not practice a religion"
        },
    },
    10: {
        question: "What is the economic system in the United States?",
        answer: {
            0: "capitalist economy",
            1: "market economy"
        },
    },
    11: {
        question: "What is the “rule of law”?",
        answer: {
            0: "everyone must follow the law",
            1: "leaders must obey the law",
            2: "government must obey the law",
            3: "no one is above the law"
        },
    },
    12: {
        question: "Name one branch or part of the government.",
        answer: {
            0: "congress",
            1: "legislative",
            2: "president",
            3: "executive",
            4: "the courts",
            5: "judicial"
        },
    },
    13: {
        question: "What stops one branch of government from becoming too powerful?",
        answer: {
            0: "checks and balances",
            1: "separation of powers"
        },
    },
    14: {
        question: "Who is in charge of the executive branch?",
        answer: {
            0: "the president"
        },
    },
    15: {
        question: "Who makes federal laws?",
        answer: {
            0: "congress",
            1: "senate and house",
            2: "legislature"
        },
    },
    16: {
        question: "What are the two parts of the U.S. Congress?",
        answer: {
            0: "the senate and house"
        },
    },
    17: {
        question: "How many U.S. Senators are there? (Number)",
        answer: {
            0: "100"
        },
    },
    18: {
        question: "We elect a U.S. Senator for how many years? (Number)",
        answer: {
            0: "6"
        },
    },
    19: {
        question: "Who is one of your state’s U.S. Senators now? (Question for Louisiana, type full names)",
        answer: {
            0: "john neely Kennedy",
            1: "bill cassidy"
        },
    },
    20: {
        question: "The House of Representatives has how many voting members? (Number)",
        answer: {
            0: "435"
        },
    },
    21: {
        question: "We elect a U.S. Representative for how many years? (Number)",
        answer: {
            0: "2"
        },
    },
    22: {
        question: "Name your U.S. Representative (Louisiana, type full names)",
        answer: {
            0: "steve scalise",
            1: "troy carter",
            2: "clay higgins",
            3: "julia letlow",
            4: "garret graves"
        },
    },
    23: {
        question: "Who does a U.S. Senator represent?",
        answer: {
            0: "all people of the state"
        },
    },
    24: {
        question: "Why do some states have more Representatives than other states? Because of...",
        answer: {
            0: "the state’s population",
            1: "they have more people",
            2: "some states have more people"
        },
    },
    25: {
        question: "We elect a President for how many years? (Number)",
        answer: {
            0: "4"
        },
    },
    26: {
        question: "In what month do we vote for President?",
        answer: {
            0: "november"
        },
    },
    27: {
        question: "What is the name of the President of the United States now?",
        answer: {
            0: "joe biden"
        },
    },
    28: {
        question: "What is the name of the Vice President of the United States now?",
        answer: {
            0: "kamala harris"
        },
    },
    29: {
        question: "If the President can no longer serve, who becomes President?",
        answer: {
            0: "the vice president"
        },
    },
    30: {
        question: "If both the President and the Vice President can no longer serve, who becomes President?",
        answer: {
            0: "the speaker of the house"
        },
    },
    31: {
        question: "Who is the Commander in Chief of the military?",
        answer: {
            0: "the president"
        },
    },
    32: {
        question: "Who signs bills to become laws?",
        answer: {
            0: "the president"
        },
    },
    33: {
        question: "Who vetoes bills?",
        answer: {
            0: "the president"
        },
    },
    34: {
        question: "What does the President’s Cabinet do?",
        answer: {
            0: "advises the president"
        },
    },
    35: {
        question: "What are two Cabinet-level positions?",
        answer: {
            0: "secretary of agriculture",
            1: "secretary of commerce",
            2: "secretary of defense",
            3: "secretary of education",
            4: "secretary of energy",
            5: "secretary of health and human services",
            6: "secretary of homeland security",
            7: "secretary of housing and urban developent",
            8: "secretary of the interior",
            9: "secretary of labor",
            10: "secretary of state",
            11: "secretary of transportation",
            12: "secretary of the treasury",
            13: "secretary of veterans affairs",
            14: "attorney general",
            15: "vice president",
        },
    },
    36: {
        question: "What does the judicial branch do?",
        answer: {
            0: "review laws",
            1: "explain laws",
            2: "resolves disputes",
            3: "decides if a law goes against the constitution"
        },
    },
    37: {
        question: "What is the highest court in the United States?",
        answer: {
            0: "the supreme court"
        },
    },
    38: {
        question: "How many justices are on the Supreme Court? (Number)",
        answer: {
            0: "9"
        },
    },
    39: {
        question: "Who is the Chief Justice of the United States now?",
        answer: {
            0: "john roberts"
        },
    },
    40: {
        question: "Under our Constitution, some powers belong to the federal government. What is one power of the federal government?",
        answer: {
            0: "to print money",
            1: "to declare war",
            2: "to create an army",
            3: "to make treaties"
        },
    },
    41: {
        question: "Under our Constitution, some powers belong to the states. What is one power of the states?",
        answer: {
            0: "provide schooling and education",
            1: "provide protection",
            2: "provide safety",
            3: "give a drivers license",
            4: "approve zoning and land use"
        },
    },
    42: {
        question: "Who is the Governor of your state now? (First and last name - Louisiana)",
        answer: {
            0: "john edwards"
        },
    },
    43: {
        question: "What is the capital of your state? (Lousiana)",
        answer: {
            0: "baton rouge"
        },
    },
    44: {
        question: "What are the two major political parties in the United States?",
        answer: {
            0: "democratic and republican",
            1: "republican and democratic"
        },
    },
    45: {
        question: "What is the political party of the President now?",
        answer: {
            0: "democratic"
        },
    },
    46: {
        question: "What is the name of the Speaker of the House of Representatives now? (First and last name)",
        answer: {
            0: "nancy pelosi"
        },
    },
    47: {
        question: "There are four amendments to the Constitution about who can vote. Describe one of them.",
        answer: {
            0: "citizens eighteen and older",
            1: "you don’t have to pay to vote",
            2: "any citizen can vote",
            3: "a male citizien of any race"
        },
    },
    48: {
        question: "What is one responsibility that is only for United States citizens?",
        answer: {
            0: "serve on a jury",
            1: "vote in a federal election"
        },
    },
    49: {
        question: "Name one right only for United States citizens.",
        answer: {
            0: "vote in a federal election",
            1: "run for federal office"
        },
    },
    50: {
        question: "What are two rights of everyone living in the United States?",
        answer: {
            0: "freedom of expression",
            1: "freedom of speech",
            2: "freedom of assembly",
            3: "freedom to petition the government",
            4: "freedom of religion",
            5: "the right to bear arms"
        },
    },
    51: {
        question: "What do we show loyalty to when we say the Pledge of Allegiance?",
        answer: {
            0: "the united states",
            1: "the flag"
        },
    },
    52: {
        question: "What is one promise you make when you become a United States citizen?",
        answer: {
            0: "give up loyalty to other countries",
            1: "defend the constitution and laws of the united states",
            2: "obey the laws of the united states",
            3: "serve in the u.s. military",
            4: "serve the nation",
            5: "be loyal to the united states"
        },
    },
    53: {
        question: "How old do citizens have to be to vote for President? (Number)",
        answer: {
            0: "18"
        },
    },
    54: {
        question: "What are two ways that Americans can participate in their democracy?",
        answer: {
            0: "vote",
            1: "join a political party",
            2: "help with a campaign",
            3: "join a civic group",
            4: "join a community group",
            5: "give an elected official your opinion on an issue",
            6: "call senators and representatives",
            7: "publicly support or oppose an issue or policy",
            8: "run for office",
            9: "write to a newspaper"
        },
    },
    55: {
        question: "When is the last day you can send in federal income tax forms? (Month day)",
        answer: {
            0: "april 15"
        },
    },
    56: {
        question: "When must all men register for the Selective Service? (Number: one number or (x-x))",
        answer: {
            0: "18",
            1: "18-26"
        },
    },
    57: {
        question: "What is one reason colonists came to America?",
        answer: {
            0: "freedom",
            1: "political liberty",
            2: "religious freedom",
            3: "economic opportunity",
            4: "practice their religion",
            5: "escape persecution"
        },
    },
    58: {
        question: "Who lived in America before the Europeans arrived?",
        answer: {
            0: "american indians",
            1: "native americans"
        },
    },
    59: {
        question: "What group of people was taken to America and sold as slaves?",
        answer: {
            0: "africans",
            1: "people from africa"
        },
    },
    60: {
        question: "Why did the colonists fight the British?",
        answer: {
            0: "because of high taxes",
            1: "because the british army stayed in their houses",
            2: "because they did not have self-government"
        },
    },
    61: {
        question: "Who wrote the Declaration of Independence? (Last name)",
        answer: {
            0: "Jefferson"
        },
    },
    62: {
        question: "When was the Declaration of Independence adopted? (Month day, year) ",
        answer: {
            0: "july 4, 1776"
        },
    },
    63: {
        question: "There were 13 original states. Name three.",
        answer: {
            0: "new hampshire",
            1: "massachusetts",
            2: "rhode island",
            3: "connecticut",
            4: "new york",
            5: "new jersey",
            6: "pennsylvania",
            7: "delaware",
            8: "maryland",
            9: "virginia",
            10: "north carolina",
            11: "south carolina",
            12: "georgia"
        },
    },
    64: {
        question: "What happened at the Constitutional Convention?",
        answer: {
            0: "the constitution was written",
            1: "the founding fathers wrote the constitution"
        },
    },
    65: {
        question: "When was the Constitution written? (year)",
        answer: {
            0: "1787"
        },
    },
    66: {
        question: "The Federalist Papers supported the passage of the U.S. Constitution. Name one of the writers. (Last name)",
        answer: {
            0: "madison",
            1: "hamilton",
            2: "jay",
            3: "publius"
        },
    },
    67: {
        question: "What is one thing Benjamin Franklin is famous for?",
        answer: {
            0: "u.s. diplomat",
            1: "oldest member of the constitutional convention",
            2: "first postmaster general of the united states",
            3: "writer of \"poor richards almanac\"",
            4: "started the first three libraries"
        },
    },
    68: {
        question: "Who is the “Father of Our Country”? (Last name)",
        answer: {
            0: "washington"
        },
    },
    69: {
        question: "Who was the first President? (Last name)",
        answer: {
            0: "washington"
        },
    },
    70: {
        question: "What territory did the United States buy from France in 1803?",
        answer: {
            0: "the louisiana Territory",
            1: "louisiana"
        },
    },
    71: {
        question: "Name one war fought by the United States in the 1800s.",
        answer: {
            0: "war of 1812",
            1: "mexican american war",
            2: "civil war",
            3: "spanish american war",
        },
    },
    72: {
        question: "Name the U.S. war between the North and the South.",
        answer: {
            0: "the civil war",
            1: "civil war",
            2: "the war between the states"
        },
    },
    73: {
        question: "Name one problem that led to the Civil War.",
        answer: {
            0: "slavery",
            1: "economic reasons",
            2: "states rights"
        },
    },
    74: {
        question: "What was one important thing that Abraham Lincoln did?",
        answer: {
            0: "freed the slaves",
            1: "saved the union",
            2: "led the united states during the civil war"
        },
    },
    75: {
        question: "What did the Emancipation Proclamation do?",
        answer: {
            0: "freed the slaves",
            1: "freed slaves in the confederacy",
            2: "freed slaves in the confederate states",
            3: "freed slaves in most southern states"
        },
    },
    76: {
        question: "What did Susan B. Anthony do?",
        answer: {
            0: "fought for women's rights",
            1: "fought for civil rights"
        },
    },
    77: {
        question: "Name one war fought by the United States in the 1900s.",
        answer: {
            0: "world war i",
            1: "world war ii",
            2: "korean war",
            3: "vietnam war",
            4: "gulf war"
        },
    },
    78: {
        question: "Who was President during World War I? (Last name)",
        answer: {
            0: "wilson"
        },
    },
    79: {
        question: "Who was President during the Great Depression and World War II? (Last name)",
        answer: {
            0: "roosevelt"
        },
    },
    80: {
        question: "Who did the United States fight in World War II? (x, x and x)",
        answer: {
            0: "japan, germany and italy",
            1: "japan, italy and germany",
            2: "germany, italy and japan",
            3: "germany, japan and italy",
            4: "italy, germany and japan",
            5: "italy, japan and germany"
        },
    },
    81: {
        question: "Before he was President, Eisenhower was a general. What war was he in?",
        answer: {
            0: "world war ii"
        },
    },
    82: {
        question: "During the Cold War, what was the main concern of the United States?",
        answer: {
            0: "communism"
        },
    },
    83: {
        question: "What movement tried to end racial discrimination?",
        answer: {
            0: "civil rights"
        },
    },
    84: {
        question: "What did Martin Luther King, Jr. do?",
        answer: {
            0: "fight for civil rights",
            1: "worked for equality for all americans"
        },
    },
    85: {
        question: "What major event happened on September 11, 2001, in the United States?",
        answer: {
            0: "terrorist attacked the united states"
        },
    },
    86: {
        question: "Name one American Indian tribe in the United States.",
        answer: {
            0: "cherokee",
            1: "navajo",
            2: "sioux",
            3: "chippewa",
            4: "choctaw",
            5: "pueblo",
            6: "apache",
            7: "iroquois",
            8: "creek",
            9: "blackfeet",
            10: "seminole",
            11: "cheyenne",
            12: "arawak",
            13: "shawnee",
            14: "mohegan",
            15: "huron",
            16: "oneida",
            17: "lakota",
            18: "crow",
            19: "teton",
            20: "hopi",
            21: "inuit"
        },
    },
    87: {
        question: "Name one of the two longest rivers in the United States.",
        answer: {
            0: "missouri",
            1: "mississippi"
        },
    },
    88: {
        question: "What ocean is on the West Coast of the United States?",
        answer: {
            0: "pacific"
        },
    },
    89: {
        question: "What ocean is on the East Coast of the United States?",
        answer: {
            0: "atlantic"
        },
    },
    90: {
        question: "Name one U.S. territory.",
        answer: {
            0: "puerto rico",
            1: "u.s. virgin islands",
            2: "american samoa",
            3: "northern mariana islands",
            4: "guam"
        },
    },
    91: {
        question: "Name one stated that borders Canada.",
        answer: {
            0: "maine",
            1: "new hampshire",
            2: "vermont",
            3: "new york",
            4: "pennsylvania",
            5: "ohio",
            6: "michigan",
            7: "minnesota",
            8: "north dakota",
            9: "montana",
            10: "idaho",
            11: "washington",
            12: "alaska"
        },
    },
    92: {
        question: "Name one stated that borders Mexico.",
        answer: {
            0: "california",
            1: "arizona",
            2: "new mexico",
            3: "texas"
        },
    },
    93: {
        question: "What is the capital of the United States?",
        answer: {
            0: "washington, d.c.",
            1: "dc",
            2: "d.c.",
        },
    },
    94: {
        question: "Where is the Statue of Liberty?",
        answer: {
            0: "new york",
            1: "libery island",
        },
    },
    95: {
        question: "Why does the flag have 13 stripes?",
        answer: {
            0: "because there were 13 original colonies",
            1: "because the stripes represent the original colonies",
        },
    },
    96: {
        question: "Why does the flag have 50 stars?",
        answer: {
            0: "because there is one star for each state",
            1: "because each star represents a state",
            2: "because there are 50 states"
        },
    },
    97: {
        question: "What is the name of the national anthem?",
        answer: {
            0: "the star spangled banner",
            1: "the star-spangled banner"
        },
    },
    98: {
        question: "When do we celebrate Independence Day?*",
        answer: {
            0: "july 4",
            1: "4th of july"
        },
    },
    99: {
        question: "Name two national U.S. holidays",
        answer: {
            0: "new year's day",
            1: "martin luther king, jr. day",
            2: "president's day",
            3: "memorial day",
            4: "independence day",
            5: "labor day",
            6: "columbus day",
            7: "veterans day",
            8: "thanksgiving",
            9: "christmas"
        },
    }
}

// Declaramos variables iniciales
var arrayPreguntas = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99];
//var arrayPreguntas = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
var aciertos = 0;
var fallos = 0;
var contadorPreguntas = 1;
var cantidadPreguntas = 10;
var indicePregunta = 0;
var name = "";

// Ocultamos elementos
$("#alert-name").hide();
$("#question-box").hide();
$("#alert-answer").hide();
$("#completed").hide();
$("#answers").hide();

$("#btnAnswers").css("cursor", "pointer");

// Botón de iniciar
$("#btnStart").click(() => {
    name = $("#name").val();
    if (name.length > 0) {
        // Continua
        $("#login").fadeOut();
        setTimeout(() => {
            $("#question-box").fadeIn();

            // Establecemos valores de la primera pregunta
            buscarPregunta();

        }, 500);
    } else {
        // No hay nombre
        $("#alert-name").fadeIn();
    }
});



// Botón de siguiente
$("#btnNext").click(() => {
    var respuesta = $("#answer").val();
    if (respuesta.length > 0) {
        // Continua
        $("#alert-answer").fadeOut();

        // Verificamos si la pregunta es correcta
        verificarPregunta(respuesta, indicePregunta);

        if (contadorPreguntas <= cantidadPreguntas) {
            // Restablecemos el campo de respuesta a vacío
            $("#answer").val("");
        } else {
            // Se terminó la prueba
            $("#question-box").fadeOut();
            setTimeout(() => {
                $("#completed").fadeIn();
            }, 500);
        }


    } else {
        // No hay respuesta
        $("#alert-answer").fadeIn();
    }
});

function buscarPregunta() {

    $("#question-number").text(contadorPreguntas);

    var index = Math.floor(Math.random() * arrayPreguntas.length);
    //var index = 1;
    var pregunta = arrayPreguntas[index];
    indicePregunta = pregunta;
    // Eliminamos ese index del array para asegurarnos que no vuelva a salir
    arrayPreguntas.splice(index, 1);

    var question = cuestionario[pregunta].question;
    $("#question-description").text(question);

}

function verificarPregunta(respuesta, pregunta) {

    respuesta = respuesta.toLowerCase();

    var longitud = Object.keys(cuestionario[pregunta].answer).length;
    console.log(longitud);

    var correct = false;

    for (var i = 0; i < longitud; i++) {
        if (respuesta == cuestionario[pregunta].answer[i]) {
            correct = true;
            break;
        } else {
            correct = false;
        }
    }

    if (correct) {
        aciertos++;
        console.log("Correcto");
    } else {
        fallos++;
        console.log("Incorrecto");
    }

    console.log("Aciertos: " + aciertos);
    console.log("Fallos: " + fallos);

    contadorPreguntas++;

    var question = cuestionario[pregunta].question;
    insertarRespuesta(correct, respuesta, question);


    if (contadorPreguntas <= cantidadPreguntas) {
        // Buscamos la siguiente pregunta
        buscarPregunta();
    } else {
        // Se terminó la prueba
        $("#question-box").fadeOut();
        setTimeout(() => {
            $("#completed").fadeIn();
            $("#aciertos").text(aciertos);
            $("#fallos").text(fallos);
            if (aciertos > 6) {
                $("#resultado").text("Oh yes! Good job " + name + ".");
            } else {
                $("#resultado").text("Sorry... Keep trying " + name + "!")
            }
        }, 500);
    }

}


// Botón para ver las respuestas

$("#btnAnswers").click(() => {
    $("#background").fadeOut();
    setTimeout(() => {
        $("#answers").fadeIn();
    }, 500);
});

// Insertar respuestas en el cuadro

function insertarRespuesta(condicion, respuesta, pregunta) {

    var espacioRespuestas = document.getElementById("cuadroRespuestas");

    var textoPregunta = document.createElement("h3");
    var textoRespuesta = document.createElement("h3");

    textoPregunta.innerHTML = pregunta;
    textoRespuesta.innerHTML = respuesta;

    textoPregunta.classList.add("margin-top");

    if (condicion) {
        textoRespuesta.classList.add("txtVerde");
    } else {
        textoRespuesta.classList.add("txtRojo");
    }

    espacioRespuestas.appendChild(textoPregunta);
    espacioRespuestas.appendChild(textoRespuesta);

}